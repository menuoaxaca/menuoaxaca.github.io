<html lang="es">
<head>
  <title>menuoaxaca.com | Log√≠stica & Sabor</title>
<meta name="description" content="¬°Oaxaca en un solo clic! Te llevamos el sabor de los mejores restaurantes y mercados hasta tu puerta. ¬øQu√© se te antoja hoy?">

<meta property="og:type" content="website">
<meta property="og:url" content="https://www.menuoaxaca.com/"> 
<meta property="og:title" content="üåÆ ¬°Pide hoy en menuoaxaca.com! | El Sabor de Oaxaca en tu Puerta">
<meta property="og:description" content="¬øHambre? Entra ahora y prueba nuestro servicio. Llevamos Alfonsina, Itanon√≠ y tus mercados favoritos con log√≠stica premium. ¬°Haz tu pedido aqu√≠! ‚ú®">
<meta property="og:image" content="https://s.yimg.com/ny/api/res/1.2/4.PQjPnvblW7D89w4eiCWg--/YXBwaWQ9aGlnaGxhbmRlcjt3PTEyNDI7aD04Mjg7Y2Y9d2VicA--/https://media.zenfs.com/es/animal_gourmet_468/dd8d8486cbb4d93d0ccb061e8f320a0b">
<meta property="og:image:width" content="1242">
<meta property="og:image:height" content="828">
<meta property="og:site_name" content="MenuOaxaca">

<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="üåÆ ¬°Pide hoy en menuoaxaca.com!">
<meta name="twitter:description" content="Entra a probar el servicio de entrega m√°s vibrante de Oaxaca. Restaurantes gourmet, tradicionales y antojos de mercado.">
<meta name="twitter:image" content="https://s.yimg.com/ny/api/res/1.2/4.PQjPnvblW7D89w4eiCWg--/YXBwaWQ9aGlnaGxhbmRlcjt3PTEyNDI7aD04Mjg7Y2Y9d2VicA--/https://media.zenfs.com/es/animal_gourmet_468/dd8d8486cbb4d93d0ccb061e8f320a0b">

<link rel="icon" type="image/png" href="https://s.yimg.com/ny/api/res/1.2/4.PQjPnvblW7D89w4eiCWg--/YXBwaWQ9aGlnaGxhbmRlcjt3PTEyNDI7aD04Mjg7Y2Y9d2VicA--/https://media.zenfs.com/es/animal_gourmet_468/dd8d8486cbb4d93d0ccb061e8f320a0b">

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>menuoaxaca.com | Log√≠stica & Sabor</title>
    <link href="https://fonts.googleapis.com/css2?family=Syncopate:wght@700&family=Outfit:wght@300;400;600;800&display=swap" rel="stylesheet">
    <style>
        :root {
            --oax-pink: #ff0080; --oax-blue: #00d4ff; --oax-orange: #ff3e00;
            --oax-purple: #9d00ff; --oax-green: #00ffa3; --bg: #0d0d0d;
            --text: #ffffff; --card-bg: #1a1a1a; --border: #333;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }
        
        body { 
            font-family: 'Outfit', sans-serif; 
            background-color: var(--bg); 
            color: var(--text); 
            margin: 0; 
            padding-top: 140px; 
            padding-bottom: 120px; 
            overflow-x: hidden; 
        }

        /* BLOQUEO DE SCROLL FONDO */
        body.no-scroll { overflow: hidden; }

        @keyframes alebrije-pulse {
            0% { color: var(--oax-pink); }
            25% { color: var(--oax-blue); }
            50% { color: var(--oax-orange); }
            75% { color: var(--oax-green); }
            100% { color: var(--oax-purple); }
        }

        /* HEADER */
        header { position: fixed; top: 0; width: 100%; background: rgba(13,13,13,0.95); backdrop-filter: blur(10px); padding: 15px 5%; border-bottom: 1px solid var(--border); z-index: 5000; display: flex; justify-content: space-between; align-items: center; }
        .logo { font-family: 'Syncopate'; font-size: 1rem; letter-spacing: 1px; cursor: pointer; animation: alebrije-pulse 8s infinite alternate linear; }
        .cart-btn { background: var(--text); color: var(--bg); border: none; padding: 8px 15px; border-radius: 20px; font-weight: 800; cursor: pointer; }

        /* CATEGOR√çAS SLIDER */
        .category-wrapper { position: fixed; top: 58px; width: 100%; background: var(--bg); z-index: 4500; border-bottom: 1px solid var(--border); }
        .category-slider { 
            display: flex; overflow-x: auto; 
            -webkit-overflow-scrolling: touch; overscroll-behavior-x: contain; 
            padding: 15px 5%; gap: 15px; scrollbar-width: none; -ms-overflow-style: none; 
        }
        .category-slider::-webkit-scrollbar { display: none; }
        .cat-item { flex: 0 0 auto; padding: 8px 20px; border-radius: 30px; border: 1px solid var(--border); font-size: 0.85rem; font-weight: 600; cursor: pointer; transition: 0.3s; white-space: nowrap; }
        .cat-item.active { background: var(--oax-pink); border-color: var(--oax-pink); color: white; }

        /* PEDIDO ESPECIAL */
        .special-order { margin: 20px 5%; background: var(--card-bg); padding: 20px; border-radius: 15px; border-left: 5px solid var(--oax-purple); }
        .special-input { width: 100%; background: transparent; border: none; border-bottom: 2px solid var(--border); color: white; font-family: 'Outfit'; font-size: 1rem; padding: 10px 0; outline: none; }
        .special-input:focus { border-bottom-color: var(--oax-purple); }

        /* GRID RESPONSIVO */
        .grid { display: grid; grid-template-columns: repeat(1, 1fr); gap: 20px; padding: 0 5%; }
        @media (min-width: 768px) { .grid { grid-template-columns: repeat(2, 1fr); } }
        @media (min-width: 1024px) { .grid { grid-template-columns: repeat(3, 1fr); } }
        
        .rest-card { background: var(--card-bg); border-radius: 15px; overflow: hidden; transition: transform 0.3s; border: 1px solid var(--border); }
        .rest-card:hover { transform: translateY(-5px); }
        .rest-card img { width: 100%; height: 200px; object-fit: cover; }
        .rest-info { padding: 20px; }
        .btn-add { background: transparent; border: 1px solid var(--text); color: var(--text); padding: 8px 15px; border-radius: 5px; cursor: pointer; float: right; font-weight: 600; transition: 0.3s; }
        .btn-add:hover { background: var(--text); color: var(--bg); }

        /* JUEGOS FLOTANTES */
        .mache-cluster { position: fixed; bottom: 30px; left: 5%; z-index: 4000; display: flex; flex-direction: column; gap: 15px; }
        .mache-item { width: 60px; height: 65px; border: none; color: white; font-size: 1.5rem; clip-path: polygon(5% 5%, 100% 0%, 90% 90%, 5% 100%); cursor: pointer; display: flex; align-items: center; justify-content: center; box-shadow: 0 10px 20px rgba(0,0,0,0.5); transition: transform 0.2s; }
        .mache-item:active { transform: scale(0.9); }

        /* OVERLAYS JUEGOS */
        .game-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.98); z-index: 9000; display: none; flex-direction: column; align-items: center; justify-content: center; backdrop-filter: blur(15px); text-align: center; overscroll-behavior: contain; }
        
        .wheel-container { width: 280px; height: 280px; border: 8px solid white; border-radius: 50%; position: relative; overflow: hidden; transition: 5s cubic-bezier(0.1, 0, 0, 1); margin: 30px 0; }
        .wheel-seg { position: absolute; width: 50%; height: 50%; transform-origin: 100% 100%; display: flex; align-items: center; justify-content: center; font-size: 0.5rem; font-weight: 900; }
        
        .maze-grid { display: grid; grid-template-columns: repeat(3, 80px); gap: 10px; margin: 30px 0; }
        .maze-cell { width: 80px; height: 80px; background: #222; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 2rem; cursor: pointer; transition: 0.3s; border: 1px solid #444; }
        
        #jicara-visual { width: 100px; height: 75px; background: #8d5524; border-radius: 40% 40% 50% 50%; border: 4px solid #4a2c11; margin: 40px 0; }
        .flip-action { animation: flip-complex 1.2s ease-in-out forwards; }
        @keyframes flip-complex { 0% { transform: translateY(0) rotate(0); } 50% { transform: translateY(-200px) rotate(720deg); } 100% { transform: translateY(0) rotate(1080deg); } }

        /* CARRITO */
        #cart-panel { position: fixed; bottom: 0; width: 100%; background: var(--bg); border-top: 2px solid var(--border); padding: 25px 5%; z-index: 6000; transform: translateY(100%); transition: 0.5s cubic-bezier(0.17, 0.67, 0.83, 0.67); box-shadow: 0 -15px 40px rgba(0,0,0,0.8); max-height: 85vh; overflow-y: auto; -webkit-overflow-scrolling: touch; overscroll-behavior-y: contain; padding-bottom: calc(25px + env(safe-area-inset-bottom)); }
        #cart-panel.open { transform: translateY(0); }
        .fee-selector { background: var(--card-bg); padding: 15px; border-radius: 12px; margin: 15px 0; border: 1px solid var(--border); }
        .fee-selector select { width: 100%; padding: 12px; margin-top: 8px; border-radius: 8px; background: var(--bg); color: white; border: 1px solid var(--border); font-family: 'Outfit'; }
        
        .btn-main { background: var(--text); color: var(--bg); border: none; padding: 18px 40px; border-radius: 50px; font-weight: 900; font-family: 'Syncopate'; cursor: pointer; width: 100%; margin-top: 15px; font-size: 0.9rem; }
        
        #active-coupon { position: fixed; top: 130px; right: -400px; background: var(--oax-green); color: black; padding: 12px 25px; border-radius: 50px 0 0 50px; font-weight: 800; transition: 0.5s; z-index: 9000; box-shadow: -5px 5px 20px rgba(0,255,163,0.3); }
    </style>
</head>
<body>

<header>
    <div class="logo" onclick="location.reload()">MENUOAXACA</div>
    <button class="cart-btn" onclick="toggleCart()">üõí <span id="cart-count">0</span> | $<span id="header-total">0</span></button>
</header>

<div class="category-wrapper">
    <div class="category-slider" id="cat-slider">
        <div class="cat-item active" onclick="filterMenu('Todos', this)">‚ú® Todos</div>
        <div class="cat-item" onclick="filterMenu('Gourmet', this)">üç¥ Gourmet</div>
        <div class="cat-item" onclick="filterMenu('Tradicional', this)">ü•ò Tradicional</div>
        <div class="cat-item" onclick="filterMenu('Mercados', this)">üèôÔ∏è Mercados</div>
        <div class="cat-item" onclick="filterMenu('Antojos', this)">üåÆ Antojos</div>
        <div class="cat-item" onclick="filterMenu('Bebidas', this)">ü•É Bebidas</div>
    </div>
</div>

<div id="active-coupon">CUP√ìN LISTO ‚ú®</div>

<section class="special-order">
    <h3 style="font-family:'Syncopate'; font-size:0.8rem; margin:0 0 10px 0; color:var(--oax-purple);">¬øNO EST√Å EN EL MEN√ö?</h3>
    <p style="font-size:0.8rem; opacity:0.7; margin:0 0 10px 0;">Pide desde farmacia, mercado o tu antojo espec√≠fico.</p>
    <div style="display:flex; gap:10px;">
        <input type="text" id="custom-item" class="special-input" placeholder="Ej. 1/2 kilo de Tasajo del 20 de Nov...">
        <button onclick="addCustomOrder()" style="background:var(--oax-purple); border:none; color:white; padding:0 20px; border-radius:8px; font-weight:800; cursor:pointer;">+</button>
    </div>
</section>

<main class="grid" id="main-grid"></main>

<div class="mache-cluster">
    <button class="mache-item" style="background:var(--oax-pink)" onclick="openGame('wheel')">üåÆ</button>
    <button class="mache-item" style="background:var(--oax-blue)" onclick="openGame('maze')">üóø</button>
    <button class="mache-item" style="background:var(--oax-orange)" onclick="openGame('flip')">ü•É</button>
</div>

<div id="cart-panel">
    <div style="display:flex; justify-content:space-between; align-items:center; margin-bottom:20px;">
        <h2 style="font-family:'Syncopate'; font-size:1rem; margin:0;">TU PEDIDO</h2>
        <button onclick="toggleCart()" style="background:none; border:none; color:white; font-size:1.5rem; cursor:pointer;">&times;</button>
    </div>
    
    <div id="cart-items" style="font-size:0.95rem; margin-bottom:15px; padding-bottom:15px; border-bottom:1px solid var(--border);"></div>
    
    <div class="fee-selector">
        <label style="font-size:0.8rem; font-weight:800; color:var(--oax-green);">üìç DISTANCIA DE ENTREGA</label>
        <select id="km-select" onchange="updateTotal()">
            <option value="50">0 a 2 km ($50)</option>
            <option value="60">2.1 a 3 km ($60)</option>
            <option value="70">3.1 a 4 km ($70)</option>
            <option value="80">4.1 a 5 km ($80)</option>
            <option value="90">5.1 a 6 km ($90)</option>
            <option value="100">6.1 a 7 km ($100)</option>
            <option value="110">M√°s de 7 km ($110+)</option>
        </select>
    </div>

    <div id="promo-msg" style="color:var(--oax-pink); font-size:0.85rem; font-weight:800; margin-bottom:10px; height:20px;"></div>

    <div style="display:flex; justify-content:space-between; font-size:0.9rem; opacity:0.8; margin-bottom:5px;">
        <span>Subtotal (Comida):</span> <span id="summary-food">$0.00</span>
    </div>
    <div style="display:flex; justify-content:space-between; font-size:0.9rem; opacity:0.8; margin-bottom:15px;">
        <span>Costo Env√≠o:</span> <span id="summary-shipping">$0.00</span>
    </div>

    <div style="display:flex; justify-content:space-between; font-weight:900; font-size:1.4rem; border-top:1px dashed var(--border); padding-top:15px;">
        <span>TOTAL:</span> <span id="total-price" style="color:var(--oax-green);">$0.00</span>
    </div>
    
    <button class="btn-main" onclick="checkoutWhatsApp()">ENVIAR PEDIDO POR WHATSAPP</button>
</div>

<div id="modal-wheel" class="game-overlay">
    <h2 style="font-family:'Syncopate'; font-size:1rem; color:var(--oax-pink);">RULETA DE ENV√çOS</h2>
    <div id="wheel-obj" class="wheel-container"></div>
    <div style="width:0; height:0; border-left:15px solid transparent; border-right:15px solid transparent; border-top:20px solid white; margin-top:-20px; z-index:8001;"></div>
    <button class="btn-main" style="width:auto; margin-top:30px; padding:15px 50px;" onclick="spinWheel()">GIRAR</button>
    <button onclick="closeGames()" style="margin-top:30px; color:white; background:none; border:none; opacity:0.6; font-size:0.8rem; cursor:pointer;">CERRAR</button>
</div>

<div id="modal-maze" class="game-overlay">
    <h2 style="font-family:'Syncopate'; font-size:1rem; color:var(--oax-blue);">LABERINTO DE MITLA</h2>
    <p style="font-size:0.8rem; opacity:0.8;">Toca un glifo para descubrir tu descuento</p>
    <div class="maze-grid">
        <div class="maze-cell" onclick="playMaze(this)">‚¨õ</div><div class="maze-cell" onclick="playMaze(this)">‚¨õ</div><div class="maze-cell" onclick="playMaze(this)">‚¨õ</div>
        <div class="maze-cell" onclick="playMaze(this)">‚¨õ</div><div class="maze-cell" onclick="playMaze(this)">‚¨õ</div><div class="maze-cell" onclick="playMaze(this)">‚¨õ</div>
        <div class="maze-cell" onclick="playMaze(this)">‚¨õ</div><div class="maze-cell" onclick="playMaze(this)">‚¨õ</div><div class="maze-cell" onclick="playMaze(this)">‚¨õ</div>
    </div>
    <button onclick="closeGames()" style="margin-top:30px; color:white; background:none; border:none; opacity:0.6; font-size:0.8rem; cursor:pointer;">CERRAR</button>
</div>

<div id="modal-flip" class="game-overlay">
    <h2 style="font-family:'Syncopate'; font-size:1rem; color:var(--oax-orange);">MEZCAL FLIP</h2>
    <p style="font-size:0.8rem; opacity:0.8;">Si cae de pie, aseguras tu premio</p>
    <div id="jicara-visual"></div>
    <button class="btn-main" style="width:auto; background:var(--oax-orange); margin-top:30px;" onclick="flipJicara()">LANZAR J√çCARA</button>
    <button onclick="closeGames()" style="margin-top:30px; color:white; background:none; border:none; opacity:0.6; font-size:0.8rem; cursor:pointer;">CERRAR</button>
</div>

<script>
    let cart = [];
    let appliedPromo = null;

    // BASE DE DATOS INTEGRADA CON CATEGOR√çAS
    const dbMenu = [
        { id: 1, cat: "Gourmet", res: "Alfonsina", n: "Mole de Novia (Blanco)", p: 280, img: "https://images.unsplash.com/photo-1599974579688-8dbdd335c77f?w=500" },
        { id: 2, cat: "Tradicional", res: "Las 15 Letras", n: "Trilog√≠a de Moles", p: 310, img: "https://images.unsplash.com/photo-1504674900247-0877df9cc836?w=500" },
        { id: 3, cat: "Antojos", res: "Pasillo de Humo", n: "Tlayuda con Tasajo Crujiente", p: 185, img: "https://images.unsplash.com/photo-1624300629298-e9de39c13be5?w=500" },
        { id: 4, cat: "Mercados", res: "Mercado 20 de Noviembre", n: "Pan de Yema (Pieza)", p: 45, img: "https://images.unsplash.com/photo-1603532648955-039310d9ed75?w=500" },
        { id: 5, cat: "Gourmet", res: "Levadura de Olla", n: "Ensalada de Tomates Ancestrales", p: 195, img: "https://images.unsplash.com/photo-1546069901-ba9599a7e63c?w=500" },
        { id: 6, cat: "Bebidas", res: "Sabina Sabe", n: "Mezcal de la Casa 750ml", p: 550, img: "https://images.unsplash.com/photo-1516997121675-4c2d04fe1301?w=500" },
        { id: 7, cat: "Tradicional", res: "La Popular", n: "Orden de Garnachas", p: 95, img: "https://images.unsplash.com/photo-1555939594-58d7cb561ad1?w=500" },
        { id: 8, cat: "Antojos", res: "Itanon√≠", n: "Tetela de Quesillo", p: 65, img: "https://images.unsplash.com/photo-1565299624946-b28f40a0ae38?w=500" }
    ];

    // RENDERIZADO CON FILTRO
    function renderMenu(category = 'Todos') {
        const grid = document.getElementById('main-grid');
        grid.innerHTML = "";
        const filtered = category === 'Todos' ? dbMenu : dbMenu.filter(item => item.cat === category);
        
        filtered.forEach(item => {
            grid.innerHTML += `
                <article class="rest-card">
                    <img src="${item.img}" alt="${item.n}">
                    <div class="rest-info">
                        <h4 style="margin:0; font-family:'Syncopate'; font-size:0.6rem; color:var(--oax-pink);">${item.res}</h4>
                        <h3 style="margin:5px 0; font-size:1.1rem;">${item.n}</h3>
                        <div style="display:flex; justify-content:space-between; align-items:center; margin-top:15px;">
                            <span style="font-weight:800; font-size:1.2rem;">$${item.p}</span>
                            <button class="btn-add" onclick="add('${item.n}', ${item.p})">+ Agregar</button>
                        </div>
                    </div>
                </article>`;
        });
    }

    function filterMenu(cat, element) {
        document.querySelectorAll('.cat-item').forEach(i => i.classList.remove('active'));
        element.classList.add('active');
        renderMenu(cat);
        element.scrollIntoView({ behavior: 'smooth', inline: 'center', block: 'nearest' });
    }

    // L√ìGICA DEL CARRITO
    function add(name, price) {
        cart.push({ n: name, p: price });
        updateCart();
        if(!document.getElementById('cart-panel').classList.contains('open')) toggleCart();
    }

    function addCustomOrder() {
        const input = document.getElementById('custom-item');
        if(input.value.trim() !== "") {
            cart.push({ n: "üëë Pedido Esp: " + input.value, p: 0 });
            input.value = "";
            updateCart();
            if(!document.getElementById('cart-panel').classList.contains('open')) toggleCart();
        }
    }

    function updateCart() {
        document.getElementById('cart-count').innerText = cart.length;
        const list = document.getElementById('cart-items');
        list.innerHTML = cart.map((i) => `
            <div style="display:flex; justify-content:space-between; margin-bottom:10px;">
                <span style="max-width:70%; font-size:0.9rem;">${i.n}</span>
                <span>${i.p > 0 ? '$'+i.p : '<i>Cotizando...</i>'}</span>
            </div>
        `).join('');
        updateTotal();
    }

    function updateTotal() {
        const subFood = cart.reduce((acc, i) => acc + i.p, 0);
        let baseShipping = parseFloat(document.getElementById('km-select').value);
        let finalShipping = baseShipping;

        if(appliedPromo) {
            if(appliedPromo.type === 'pct') finalShipping = baseShipping * (1 - appliedPromo.val/100);
            else finalShipping = appliedPromo.val;
            document.getElementById('promo-msg').innerText = `üî• CUP√ìN APLICADO: ${appliedPromo.title}`;
        }

        const total = subFood + finalShipping;

        document.getElementById('header-total').innerText = total.toFixed(0);
        document.getElementById('summary-food').innerText = `$${subFood.toFixed(2)}`;
        document.getElementById('summary-shipping').innerText = `$${finalShipping.toFixed(2)}`;
        document.getElementById('total-price').innerText = `$${total.toFixed(2)}`;
    }

    function toggleCart() { 
        const panel = document.getElementById('cart-panel');
        panel.classList.toggle('open'); 
        document.body.classList.toggle('no-scroll', panel.classList.contains('open'));
    }

    // L√ìGICA DE JUEGOS Y PROBABILIDADES
    const pool = [
        { title: "20% DESC EN ENV√çO", type: 'pct', val: 20, p: 0.45, color: '#ff0080' },
        { title: "30% DESC EN ENV√çO", type: 'pct', val: 30, p: 0.30, color: '#00d4ff' },
        { title: "ENV√çO A $40", type: 'fixed', val: 40, p: 0.15, color: '#ff3e00' },
        { title: "ENV√çO A $30", type: 'fixed', val: 30, p: 0.07, color: '#00ffa3' },
        { title: "50% DESC EN ENV√çO", type: 'pct', val: 50, p: 0.03, color: '#9d00ff' }
    ];

    function getPrize() {
        let r = Math.random(), acc = 0;
        for(let prize of pool) { acc += prize.p; if(r <= acc) return prize; }
        return pool[0];
    }

    function showWin(prize) {
        appliedPromo = prize;
        updateTotal();
        const notification = document.getElementById('active-coupon');
        notification.innerText = `GANASTE: ${prize.title} üè∑Ô∏è`;
        notification.style.right = "0";
        setTimeout(() => closeGames(), 1500);
    }

    function openGame(g) { 
        closeGames(); 
        document.getElementById('modal-'+g).style.display = 'flex'; 
        document.body.classList.add('no-scroll');
    }
    
    function closeGames() { 
        document.querySelectorAll('.game-overlay').forEach(el => el.style.display='none'); 
        document.body.classList.remove('no-scroll');
    }

    // VISUALES DE LOS JUEGOS
    const wheel = document.getElementById('wheel-obj');
    const visualOrder = [0,1,0,2,0,1,4,0,1,3];
    visualOrder.forEach((vIdx, i) => {
        const seg = document.createElement('div');
        seg.className = 'wheel-seg';
        seg.style.backgroundColor = pool[vIdx].color;
        seg.style.transform = `rotate(${i*36}deg) skewY(54deg)`;
        seg.innerHTML = `<span style="transform: skewY(-54deg) rotate(-18deg) translateY(-40px);">${pool[vIdx].val}${pool[vIdx].type==='pct'?'%':'$'}</span>`;
        wheel.appendChild(seg);
    });

    function spinWheel() {
        document.getElementById('wheel-obj').style.transform = `rotate(${3600 + Math.floor(Math.random()*360)}deg)`;
        setTimeout(() => showWin(getPrize()), 5200);
    }
    
    function playMaze(cell) {
        cell.innerHTML = "üåÄ"; cell.style.background = "var(--oax-blue)";
        setTimeout(() => { cell.innerHTML = "‚ú®"; showWin(getPrize()); }, 800);
    }

    function flipJicara() {
        document.getElementById('jicara-visual').classList.add('flip-action');
        setTimeout(() => { 
            document.getElementById('jicara-visual').classList.remove('flip-action'); 
            showWin(getPrize()); 
        }, 1200);
    }

    // CHECKOUT WHATSAPP (COMPLETO DEL MASTER)
    function checkoutWhatsApp() {
        if(cart.length === 0) return alert("Tu carrito est√° vac√≠o.");
        let text = "Hola menuoaxaca.com, quiero pedir:\n\n";
        cart.forEach(i => { text += `‚Ä¢ ${i.n} ${i.p > 0 ? '($'+i.p+')' : ''}\n`; });
        
        let km = document.getElementById('km-select').options[document.getElementById('km-select').selectedIndex].text;
        text += `\nüìç Distancia: ${km}\n`;
        if(appliedPromo) text += `üè∑Ô∏è Promoci√≥n Ganada: ${appliedPromo.title}\n`;
        text += `\nüí∞ Total aproximado: ${document.getElementById('total-price').innerText}\n\n`;
        text += "¬øMe confirman que un repartidor toma mi pedido?";

        const phone = "529510000000"; // CAMBIAR N√öMERO
        window.open(`https://wa.me/${phone}?text=${encodeURIComponent(text)}`, '_blank');
    }

    // INICIALIZAR
    renderMenu();
</script>
</body>
</html>
